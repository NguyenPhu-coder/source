agent:
  name: "Testing & QA Agent"
  version: "1.0.0"
  port: 8018
  host: "0.0.0.0"

# Test Suite Configuration
test_suites:
  unit:
    enable: true
    coverage_threshold: 80
    parallel: true
    fail_under: 80
    show_missing: true
  
  integration:
    enable: true
    test_db: "postgresql://localhost:5432/test_db"
    mock_external_apis: true
    timeout_seconds: 60
  
  e2e:
    enable: true
    headless: true
    browser: "chromium"
    viewport:
      width: 1920
      height: 1080
    screenshot_on_failure: true
  
  performance:
    enable: true
    load_test_users: 100
    duration_seconds: 300
    spawn_rate: 10
    target_latency_ms: 100

# ML Model Testing Configuration
ml_model_testing:
  accuracy_threshold: 0.85
  f1_threshold: 0.80
  
  test_datasets:
    - name: "validation_set"
      path: "/data/validation"
      size: 1000
    
    - name: "test_set"
      path: "/data/test"
      size: 500
  
  metrics:
    - accuracy
    - precision
    - recall
    - f1_score
    - confusion_matrix
  
  model_types:
    - classification
    - regression
    - clustering

# API Testing Configuration
api_testing:
  endpoints:
    - agent: "orchestration"
      url: "http://localhost:8000"
      tests: "/tests/orchestration_tests.py"
      timeout: 30
    
    - agent: "knowledge_graph"
      url: "http://localhost:8010"
      tests: "/tests/kg_tests.py"
      timeout: 30
    
    - agent: "local_ai"
      url: "http://localhost:8014"
      tests: "/tests/local_ai_tests.py"
      timeout: 30
    
    - agent: "caching"
      url: "http://localhost:8015"
      tests: "/tests/caching_tests.py"
      timeout: 30
    
    - agent: "database_management"
      url: "http://localhost:8016"
      tests: "/tests/database_tests.py"
      timeout: 30
    
    - agent: "security_compliance"
      url: "http://localhost:8017"
      tests: "/tests/security_tests.py"
      timeout: 30
  
  contract_testing: true
  schema_validation: true
  response_time_threshold_ms: 1000

# Performance Benchmarks
performance_benchmarks:
  orchestration_latency_ms: 50
  graph_query_latency_ms: 100
  model_inference_ms: 500
  cache_hit_latency_ms: 5
  database_query_ms: 20
  api_endpoint_ms: 100
  
  throughput:
    min_requests_per_second: 100
    target_requests_per_second: 500
  
  resource_usage:
    max_cpu_percent: 80
    max_memory_mb: 2048
    max_disk_io_mbps: 100

# Security Testing Configuration
security_testing:
  vulnerability_scan: true
  dependency_check: true
  penetration_testing: false
  
  tools:
    - name: "safety"
      enable: true
      check_dependencies: true
    
    - name: "bandit"
      enable: true
      scan_code: true
      severity_threshold: "medium"
  
  compliance_checks:
    - gdpr
    - coppa
    - ferpa
    - hipaa

# Continuous Integration Configuration
continuous_integration:
  trigger_on:
    - git_push
    - git_pull_request
    - scheduled
  
  schedule: "0 2 * * *"  # Daily at 2 AM
  
  block_on_failure: true
  
  stages:
    - name: "unit"
      required: true
    
    - name: "integration"
      required: true
    
    - name: "security"
      required: true
    
    - name: "performance"
      required: false
  
  artifacts:
    - coverage_report
    - test_results
    - performance_metrics

# Reporting Configuration
reporting:
  dashboard_url: "http://localhost:3000/qa-dashboard"
  
  slack_webhook: "${SLACK_WEBHOOK}"
  
  email_notifications: true
  email_recipients:
    - "qa-team@learnyourway.com"
    - "dev-team@learnyourway.com"
  
  report_formats:
    - html
    - json
    - junit_xml
  
  storage:
    type: "filesystem"
    path: "./test_reports"
    retention_days: 90

# Test Data Configuration
test_data:
  fixtures_path: "./fixtures"
  
  databases:
    test_db:
      type: "postgresql"
      host: "localhost"
      port: 5432
      database: "test_db"
      user: "test_user"
      password: "${TEST_DB_PASSWORD}"
  
  mock_services:
    enable: true
    external_apis:
      - name: "payment_gateway"
        mock_url: "http://localhost:9000/mock/payment"
      
      - name: "email_service"
        mock_url: "http://localhost:9000/mock/email"

# Parallel Execution Configuration
parallel_execution:
  enable: true
  max_workers: 4
  distribute_by: "file"  # file, class, or method

# Retry Configuration
retry:
  enable: true
  max_attempts: 3
  backoff_multiplier: 2
  flaky_test_threshold: 3

# Logging Configuration
logging:
  level: "INFO"
  format: "json"
  output:
    - console
    - file
  
  file_path: "./logs/testing_qa_agent.log"
  rotation: "1 day"
  retention: "30 days"
